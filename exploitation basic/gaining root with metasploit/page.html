<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>gaining root with metasploit</title>
</head><body><span style="font-size: 14pt">we done our information gether part and enumration part now , it time to use those information and perform an exploit on kioptrix <br/>
here we are exploiting smb samba 2.2.1a but as we know metasploit give better result in range than specific search so <br/>
</span><img height="324" src="image.png" width="850"/><br/>
<br/>
<span style="font-size: 14pt">as we can see here is a lot of mention of trans2open so we use this exlpoit <br/>
open metasploit by  msfconsole<br/>
</span><img height="129" src="image 2.png" width="850"/> <br/>
<span style="font-size: 14pt">search exlpoit trans2open<br/>
</span><img height="176" src="image 3.png" width="850"/><br/>
<br/>
<span style="font-size: 14pt">here exploit are arrange for operating system basis but as we gather information about kioptrix it is Unix base machine so we select linux as os<br/>
so, we select 1 <br/>
and to see all options <br/>
</span><img src="image 4.png"/><br/>
<span style="font-size: 14pt">to see targets <br/>
<img src="image 5.png"/><br/>
as we have only one target so we are set to exploit<br/>
to exploit we can choose run or exlpoit<br/>
<img height="218" src="image 6.png" width="850"/> <br/>
now our exploit is start running , what is happening here<br/>
-&gt; our payload try brute force , it try differnet return address and we got one address which can send stage , meterpreter session is opend for while and session closed because our session is died , so our payload is executed but we can't get access because our payload not worked completely .<br/>
so we need to change payload <br/>
<br/>
again go to options<br/>
<img src="image 7.png"/> <br/>
now metasploit give us more payload options , this are not show earlier , because if our payload not worked then metasploit give more payload option .<br/>
metasploit give us staged payload : linux/x86/meterpreter/reverse_tcp <br/>
also Lhost : it shows attack machine IP address and by default port 4444<br/>
<br/>
</span><img height="248" src="image 8.png" width="850"/><br/>
<span style="font-size: 14pt">select non staged shell reverse tcp payload , set payload , show options<br/>
</span><img height="516" src="image 9.png" width="850"/><br/>
<span style="font-size: 14pt">run or exlploit<br/>
</span><img height="220" src="image 10.png" width="900"/> <br/>
<span style="font-size: 14pt">we got access<br/>
</span></body></html>